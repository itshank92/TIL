# 주소와 화면을 연결하는 URL과 뷰

출처: https://wikidocs.net/70649





> app만들기

* 웹사이트(프로젝트)의 서브 주소들은 `app`으로 만든다.
  * 서브주소: `프로젝트주소/서브주소` 형태의 주소로서 웹브라우저에서 접근하는 웹페이지를 의미
* (프로젝트 디렉토리에서) `django-admin startapp (app이름)` 형태로 만든다.
  * 이 명령어를 입력하면 프로젝트 디렉토리 안에 `app이름`의 디렉토리가 생성된다. 
* 이렇게 `app`을 만드면 해당 `app`을 서브주소(웹페이지)를 위한 것으로 만들 수 있다.



> 장고에서 만드는 웹사이트에 대한 기본 내용

* 장고에서는 프로젝트 단위로 웹사이트를 만든다.
  * 하나의 프로젝트 = 하나의 웹사이트     



* 웹사이트의 수 많은 기능(수많은 웹페이지도 포함)은 모두 `app`이라는 것으로 만든다.
  * `app`은 프로젝트에 속하는 하위 덩어리다.     



* 장고의 프로젝트(전체 웹사이트 관리)에는 **각 웹페이지**별로 **보여줘야 하는 것**을 `key,value` 형태로 연결해 놓은 데이터가 있다. 
  * 이 데이터는 프로젝트 디렉토리의 `config` 폴더 안에 있는 `urls.py`에 기록한다.     



* 웹사이트에 대한 접근 요청이 들어오면 장고는 해당 요청 주소를 `config/urls.py`에서 찾아서 처리한다.
  * 주소를 읽을 때는 `/`를 기준으로 왼쪽부터 오른쪽으로 각 단위별로 끊어 읽는다.
    * 모든 주소를 읽고 해당 주소를 `config/urls.py`에서 찾는게 아니라 단위별로 끊어서 찾는다.
    * 만약 접근 요청 주소가 `config/urls.py`에 없거나 값이 잘못된 경우 오류가 발생한다.     



> 디렉토리에 있는 파일 불러오기 & 파일에 있는 함수 사용하기

* `from 디렉토리 import 파일` 형태로 불러올 수 있다.
* `파일이름.함수이름` 형태로 함수를 사용할 수 있다.

​    



> URL 분리하기

* 장고는 기본적으로 하나의 웹사이트가 관리하는 주소들의 맵핑은 프로젝트 디렉토리 안의 `config/urls.py`에서 관리된다.

  * 하지만 보통 각 웹페이지는 여러 자식(child) 웹 페이지를 만든다. 
  * 하지만 이 경우 프로젝트 디렉토리에서 자식과 손주등 모든 자손 페이지에 대한 주소를 관리해야하는 문제가 생긴다.     

  

* 따라서 각 웹페이지 주소의 영역에 대해서는 해당 웹페이지를 관리하는 `app` 디렉토리에서 관리할 수 있도록 URL 분리를 해주면 좋다.    



* URL 분리는 기존의 URL 관리 파일인 `config/urls.py` 에서 분리하려는 웹페이지 주소(key)의 값(value)을 `include('app이름.url관리파일이름') ` 로 수정하면 된다.
  * 물론 위의 내용이 제대로 작동하려면 `app` 디렉토리 안에 `url`을 관리할 파일이 생성되어 있어야 한다.

