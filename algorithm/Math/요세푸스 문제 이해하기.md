# 요세푸스 문제 이해하기

출처: https://www.geeksforgeeks.org/josephus-problem-set-1-a-on-solution/

​      

​     

## 기초 _ 나머지의 이해

※ 기초 부분은 내가 그냥 작성한 것이기에 해당 부분을 건너뛰어도 좋다.



> (리스트) 인덱스를 리스트의 길이로 나눈 나머지는 인덱스와 같다.

```python
t = ['a','b','c','d','e','f','g']

for i in range(len(t)):
  print(t[i%len(t)], end = " ")

## a b c d e f g 
```







## 재귀구조로 풀기



> 재귀 구조 정답

```
  josephus(n, k) = (josephus(n - 1, k) + k-1) % n + 1
  josephus(1, k) = 1
```

​     

​      

> 이해하기

재귀 구조로 이해할 수 있다.

매번 `요세푸스(인원수, k)`함수는 **다음번의 시작위치**를 반환한다.

**다음번의 시작위치**를 얻으려면 우선적으로 **이번에 죽을 사람의 위치**를 알아야 한다. 
(**다음번의 시작위치** =  **이번에 죽을 사람의 위치 +1**이므로)

**이번의 죽을 사람의 위치**는 **이번의 시작위치 + k-1**이다.

**이번의 시작위치**는 `요세푸스(인원수-1,k)`의 반환값이다.

따라서 다음과 같은 식이 성립된다.

```
다음번의 시작위치 = 이번에 죽을 사람의 위치 + 1
다음번의 시작위치 = (이번의 시작위치 + k - 1) + 1
다음번의 시작위치 = (요세푸스(인원수-1,k)+k-1) + 1
요세푸스(인원수,k) = (요세푸스(인원수-1,k)+k-1) + 1
```

그런데 요세푸스의 작동 구조는 **원형**이므로 계속해서 시작위치에서 `k`를 더하는 방식으로는 위치를 구할 수 없는 순간이 생긴다. 즉 인덱스의 범위가 k를 넘어가는 경우, 다시 처음으로 돌아와야 한다. 

이를 해결하기 위해서이번의 죽을 사람의 위치를 구할 때, 현재의 인원수로 나눈 나머지를 사용한다.

```
요세푸스(인원수,k) = (요세푸스(인원수-1,k)+k-1)%n + 1
```



> 그런데 이해가 잘 안된다면?

재귀 방식으로 구현한 경우 직관적으로 이해가 잘 안된다.

예를 들면 7명이 존재할 때 3번째 되는 사람이 제거된다고 하자.

그러면 처음에 1명이 죽고 6명 중 3번재, 그다음은 5명 중 3번째, 이렇게 계속하다가 1명중 3번째에서 결과값이 나오는 것이다.

그런데 위 재귀 구조를 보면 1명중 3번째에서부터 7명중 3번째로 올라오는 방식으로 구현되는 것같다.





이렇게 생각했다면 위 재귀구조에 대해 제대로 이해하지 못한것이다.

위 재귀 구조는 7명에서 1명을 제거한 다음 요세푸스(6,3)을 수행한 것이 아닌 아예 처음부터 6명으로 시작한 요세푸스(6,3)의 결과값을 사용해 요세푸스(7,3)을 구한 DP구조다.

즉 요세푸스에서는 DP구조가 적용된다. 



위에서 설명을 안한 DP구조에 대해 이해해보자.

4명중 3번째 죽는 요세푸스 문제가 있다고 하자.

A,B,C,D가 순서대로 원형을 이루고 있다고 하면,

* 1라운드에서는 C가 제거되고 D,A,B가 된다.

* 2라운드에서는 B가 제거되고 D,A가 된다.

* 3라운드에서는 D가 제거되고 A가 된다.

* 4라운드에서는 A가 제거된다.

  * n = 1

    



이번에는 3명중 3번째가 죽는 요세푸스 문제를 풀어보자(A,B,C)

* 1라운드에서는 C가 제거되고 A,B가 된다. 
  * n=3
  * `(요세푸스(인원수-1,k)+k-1)%n + 1` ==  (2+3-1)%3 +1
  * 2 + 1 => 남은 것 중 2번째가 죽고 다음번 시작 순서는 3이다.
* 2라운드에서는 A가 제거되고 B가 된다.
  * n = 2
  * (요세푸스(인원수-1,k)+k-1)%n + 1 ==  (1+3-1)%2 +1
  * 1 + 1 =>  남은 것중 1번째가 죽고 다음번 시작순서는 2번째다.
  * 결과값 2
* 3라운드에서는 B가 제거되고 요세푸스 문제가 종료된다.
  * 결과값 1



이번에는 2명중 3번째가 죽는 요세푸스 문제를 풀어보자.(A,B)

* 1라운드에서는 A가 제거되고 B가 된다.
* 2라운드에서는 B가 제거된다.



이번에는 1명중 3번째가 죽는 요세푸스 문제를 풀어보자(A)

* 1라운드에서는 A가 제거된다. 

















 

​     

​     



## 반복구조로 풀기

